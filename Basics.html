<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BNM: Basics</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript"></script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="headerToggler.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign" style="position:relative">
   <div id="projectname">BNM<span id="projectnumber">&#160;2.5.0</span>
   </div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('Basics.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Basics</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_manual_2Basics"></a></p>
<p>This section provides some basics and information about the most often used <a class="el" href="namespaceBNM.html" title="Main BNM namespace.">BNM</a>'s API.</p>
<h1><a class="anchor" id="basics_MainApi"></a>
Main API</h1>
<p><a class="el" href="namespaceBNM.html" title="Main BNM namespace.">BNM</a> provides some high level API to work with il2cpp.</p>
<h2><a class="anchor" id="image_Basics"></a>
- <a class="el" href="structBNM_1_1Image.html">BNM::Image</a></h2>
<p>Struct that allows you to find image (dll): </p><div class="fragment"><div class="line"><span class="keyword">auto</span> assemblyCShrap = <a class="code hl_struct" href="structBNM_1_1Image.html">BNM::Image</a>(<span class="stringliteral">&quot;Assembly-CShrap.dll&quot;</span>);</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> assemblyCShrap = <a class="code hl_struct" href="structBNM_1_1Image.html">BNM::Image</a>(<span class="stringliteral">&quot;Assembly-CShrap&quot;</span>);</div>
<div class="ttc" id="astructBNM_1_1Image_html"><div class="ttname"><a href="structBNM_1_1Image.html">BNM::Image</a></div><div class="ttdoc">Class for working with il2cpp images.</div><div class="ttdef"><b>Definition</b> Image.hpp:19</div></div>
</div><!-- fragment --><h2><a class="anchor" id="class_Basics"></a>
- <a class="el" href="structBNM_1_1Class.html">BNM::Class</a></h2>
<p>Struct that allows you to find classes: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> gameObject = <a class="code hl_struct" href="structBNM_1_1Class.html">BNM::Class</a>(<span class="stringliteral">&quot;UnityEngine&quot;</span>, <span class="stringliteral">&quot;GameObject&quot;</span>);</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> gameObject = <a class="code hl_struct" href="structBNM_1_1Class.html">BNM::Class</a>(<span class="stringliteral">&quot;UnityEngine&quot;</span>, <span class="stringliteral">&quot;GameObject&quot;</span>, <a class="code hl_struct" href="structBNM_1_1Image.html">BNM::Image</a>(<span class="stringliteral">&quot;UnityEngine.CoreModule&quot;</span>));</div>
<div class="ttc" id="astructBNM_1_1Class_html"><div class="ttname"><a href="structBNM_1_1Class.html">BNM::Class</a></div><div class="ttdoc">Class for working with il2cpp classes.</div><div class="ttdef"><b>Definition</b> Class.hpp:29</div></div>
</div><!-- fragment --><h2><a class="anchor" id="field"></a>
- <a class="el" href="structBNM_1_1Field.html">BNM::Field</a></h2>
<p>Struct that allows you to get/set instance and static fields: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> someClass = <a class="code hl_struct" href="structBNM_1_1Class.html">BNM::Class</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Static field</span></div>
<div class="line"><a class="code hl_struct" href="structBNM_1_1Field.html">BNM::Field&lt;int&gt;</a> staticInt = someClass.GetField(<span class="stringliteral">&quot;staticInt&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get</span></div>
<div class="line"><span class="keywordtype">int</span> v = staticInt;</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> v = staticInt();</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> v = staticInt.<a class="code hl_function" href="structBNM_1_1Field.html#a4e03859cc64c277b67ae5a7790987c0b">Get</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set</span></div>
<div class="line">staticInt = v + 1;</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line">staticInt.<a class="code hl_function" href="structBNM_1_1Field.html#aeef1da6dd2ac6265022a1b97c8a909b5">Set</a>(v + 1);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Instance field</span></div>
<div class="line"><a class="code hl_struct" href="structBNM_1_1Field.html">BNM::Field&lt;int&gt;</a> instanceInt = someClass.GetField(<span class="stringliteral">&quot;instanceInt&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> *someClassInstance = ...;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set instance and get value</span></div>
<div class="line"><span class="keyword">auto</span> v = instanceInt[someClassInstance]();</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line">instanceInt.<a class="code hl_function" href="structBNM_1_1FieldBase.html#a073b47d6d868778abd853a8593f0ab8e">SetInstance</a>(someClassInstance);</div>
<div class="line"><span class="keyword">auto</span> v = instanceInt();</div>
<div class="ttc" id="astructBNM_1_1FieldBase_html_a073b47d6d868778abd853a8593f0ab8e"><div class="ttname"><a href="structBNM_1_1FieldBase.html#a073b47d6d868778abd853a8593f0ab8e">BNM::FieldBase::SetInstance</a></div><div class="ttdeci">FieldBase &amp; SetInstance(IL2CPP::Il2CppObject *val)</div><div class="ttdoc">Set field instance if it&#39;s non-static.</div></div>
<div class="ttc" id="astructBNM_1_1Field_html"><div class="ttname"><a href="structBNM_1_1Field.html">BNM::Field</a></div><div class="ttdoc">Typed class for working with il2cpp fields.</div><div class="ttdef"><b>Definition</b> Field.hpp:20</div></div>
<div class="ttc" id="astructBNM_1_1Field_html_a4e03859cc64c277b67ae5a7790987c0b"><div class="ttname"><a href="structBNM_1_1Field.html#a4e03859cc64c277b67ae5a7790987c0b">BNM::Field::Get</a></div><div class="ttdeci">T Get() const</div><div class="ttdoc">Get field value.</div><div class="ttdef"><b>Definition</b> Field.hpp:60</div></div>
<div class="ttc" id="astructBNM_1_1Field_html_aeef1da6dd2ac6265022a1b97c8a909b5"><div class="ttname"><a href="structBNM_1_1Field.html#aeef1da6dd2ac6265022a1b97c8a909b5">BNM::Field::Set</a></div><div class="ttdeci">void Set(T value) const</div><div class="ttdoc">Set field value.</div><div class="ttdef"><b>Definition</b> Field.hpp:86</div></div>
</div><!-- fragment --><h2><a class="anchor" id="method_Basics"></a>
- <a class="el" href="structBNM_1_1Method.html">BNM::Method</a></h2>
<p>Struct that allows you to call instance and static methods. </p><div class="fragment"><div class="line"><span class="keyword">auto</span> someClass = <a class="code hl_struct" href="structBNM_1_1Class.html">BNM::Class</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Static method</span></div>
<div class="line"><span class="comment">// int staticMethod(byte a);</span></div>
<div class="line"><a class="code hl_struct" href="structBNM_1_1Method.html">BNM::Method&lt;int&gt;</a> staticMethod = someClass.GetMethod(<span class="stringliteral">&quot;staticMethod&quot;</span>, 1);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Call</span></div>
<div class="line"><span class="keyword">auto</span> v = staticMethod((BNM::Types::byte)5);</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> v = staticMethod.<a class="code hl_function" href="structBNM_1_1Method.html#aa9e4623746d73382130d37bb1cfc09aa">Call</a>((uint8_t)5);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Instance method</span></div>
<div class="line"><span class="comment">// int instanceMethod();</span></div>
<div class="line"><a class="code hl_struct" href="structBNM_1_1Method.html">BNM::Method&lt;int&gt;</a> instanceMethod = someClass.GetMethod(<span class="stringliteral">&quot;instanceMethod&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> *someClassInstance = ...;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set instance and call</span></div>
<div class="line"><span class="keyword">auto</span> v = instanceMethod[someClassInstance]();</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line">instanceMethod.<a class="code hl_function" href="structBNM_1_1MethodBase.html#a2e1b7815774620f47dedb40cdd214142">SetInstance</a>(someClassInstance);</div>
<div class="line"><span class="keyword">auto</span> v = instanceMethod();</div>
<div class="ttc" id="astructBNM_1_1MethodBase_html_a2e1b7815774620f47dedb40cdd214142"><div class="ttname"><a href="structBNM_1_1MethodBase.html#a2e1b7815774620f47dedb40cdd214142">BNM::MethodBase::SetInstance</a></div><div class="ttdeci">MethodBase &amp; SetInstance(IL2CPP::Il2CppObject *val)</div><div class="ttdoc">Set method instance if it&#39;s non-static.</div></div>
<div class="ttc" id="astructBNM_1_1Method_html"><div class="ttname"><a href="structBNM_1_1Method.html">BNM::Method</a></div><div class="ttdoc">Typed class for working with il2cpp methods.</div><div class="ttdef"><b>Definition</b> Method.hpp:20</div></div>
<div class="ttc" id="astructBNM_1_1Method_html_aa9e4623746d73382130d37bb1cfc09aa"><div class="ttname"><a href="structBNM_1_1Method.html#aa9e4623746d73382130d37bb1cfc09aa">BNM::Method::Call</a></div><div class="ttdeci">Ret Call(Parameters ...parameters) const</div><div class="ttdoc">Call method.</div><div class="ttdef"><b>Definition</b> Method.hpp:80</div></div>
</div><!-- fragment --><h2><a class="anchor" id="property_Basics"></a>
- <a class="el" href="structBNM_1_1Property.html">BNM::Property</a></h2>
<p>Struct that allows you to get/set properties. </p><div class="fragment"><div class="line"><span class="keyword">auto</span> someClass = <a class="code hl_struct" href="structBNM_1_1Class.html">BNM::Class</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Static property</span></div>
<div class="line"><a class="code hl_struct" href="structBNM_1_1Property.html">BNM::Property&lt;int&gt;</a> staticInt = someClass.GetProperty(<span class="stringliteral">&quot;staticInt&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get (call getter)</span></div>
<div class="line"><span class="keywordtype">int</span> v = staticInt;</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> v = staticInt();</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> v = staticInt.<a class="code hl_function" href="structBNM_1_1Property.html#a0d45123cf8dcd8503a009e0944a2a0ca">Get</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set (call setter)</span></div>
<div class="line">staticInt = v + 1;</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line">staticInt.<a class="code hl_function" href="structBNM_1_1Property.html#abbdc8d8c58738e472410b472b0cb8521">Set</a>(v + 1);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Instance property</span></div>
<div class="line"><a class="code hl_struct" href="structBNM_1_1Property.html">BNM::Property&lt;int&gt;</a> instanceInt = someClass.GetProperty(<span class="stringliteral">&quot;instanceInt&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> *someClassInstance = ...;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set instance and get value (call getter)</span></div>
<div class="line"><span class="keyword">auto</span> v = instanceInt[someClassInstance]();</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line">instanceInt.<a class="code hl_function" href="structBNM_1_1PropertyBase.html#a34248d12126cfa959e946d7730d0f327">SetInstance</a>(someClassInstance);</div>
<div class="line"><span class="keyword">auto</span> v = instanceInt();</div>
<div class="ttc" id="astructBNM_1_1PropertyBase_html_a34248d12126cfa959e946d7730d0f327"><div class="ttname"><a href="structBNM_1_1PropertyBase.html#a34248d12126cfa959e946d7730d0f327">BNM::PropertyBase::SetInstance</a></div><div class="ttdeci">PropertyBase &amp; SetInstance(IL2CPP::Il2CppObject *val)</div><div class="ttdoc">Set property instance if it&#39;s non-static.</div></div>
<div class="ttc" id="astructBNM_1_1Property_html"><div class="ttname"><a href="structBNM_1_1Property.html">BNM::Property</a></div><div class="ttdoc">Typed class for working with il2cpp properties.</div><div class="ttdef"><b>Definition</b> Property.hpp:20</div></div>
<div class="ttc" id="astructBNM_1_1Property_html_a0d45123cf8dcd8503a009e0944a2a0ca"><div class="ttname"><a href="structBNM_1_1Property.html#a0d45123cf8dcd8503a009e0944a2a0ca">BNM::Property::Get</a></div><div class="ttdeci">T Get() const</div><div class="ttdoc">Call getter.</div><div class="ttdef"><b>Definition</b> Property.hpp:71</div></div>
<div class="ttc" id="astructBNM_1_1Property_html_abbdc8d8c58738e472410b472b0cb8521"><div class="ttname"><a href="structBNM_1_1Property.html#abbdc8d8c58738e472410b472b0cb8521">BNM::Property::Set</a></div><div class="ttdeci">void Set(T value)</div><div class="ttdoc">Call setter.</div><div class="ttdef"><b>Definition</b> Property.hpp:91</div></div>
</div><!-- fragment --><h2><a class="anchor" id="defaults_Basics"></a>
- <a class="el" href="namespaceBNM_1_1Defaults.html#ab84fa6c8e959333e8a2ef3eb262a7848">BNM::Defaults::Get</a></h2>
<p>Method for getting some frequently used C# types.</p>
<div class="fragment"><div class="line"><span class="comment">// See the method description for full list of the supported types </span></div>
<div class="line"><span class="keyword">auto</span> intType = <a class="code hl_function" href="namespaceBNM_1_1Defaults.html#ab84fa6c8e959333e8a2ef3eb262a7848">BNM::Defaults::Get&lt;int&gt;</a>();</div>
<div class="line"><span class="keyword">auto</span> intClass = intType.ToClass();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Any pointer (except some) returns System.Object type</span></div>
<div class="line"><span class="keyword">auto</span> objectType = <a class="code hl_function" href="namespaceBNM_1_1Defaults.html#ab84fa6c8e959333e8a2ef3eb262a7848">BNM::Defaults::Get&lt;void *&gt;</a>();</div>
<div class="ttc" id="anamespaceBNM_1_1Defaults_html_ab84fa6c8e959333e8a2ef3eb262a7848"><div class="ttname"><a href="namespaceBNM_1_1Defaults.html#ab84fa6c8e959333e8a2ef3eb262a7848">BNM::Defaults::Get</a></div><div class="ttdeci">constexpr DefaultTypeRef Get()</div><div class="ttdoc">Method that helps to get il2cpp class type from C++ and BNM types.</div><div class="ttdef"><b>Definition</b> Defaults.hpp:132</div></div>
</div><!-- fragment --><h1><a class="anchor" id="basics_UnityMono"></a>
Unity and mono related structs</h1>
<h2><a class="anchor" id="unity_UnityMono"></a>
1. Unity structures</h2>
<p><a class="el" href="namespaceBNM.html" title="Main BNM namespace.">BNM</a> provides some unity structures that imitate operations similar to those in Unity.</p>
<div class="fragment"><div class="line"><span class="comment">// Mathematical structures</span></div>
<div class="line">Vector2 vector2;</div>
<div class="line">Vector3 vector3;</div>
<div class="line">Vector4 vector4;</div>
<div class="line">Matrix3x3 matrix3x3;</div>
<div class="line">Matrix4x4 matrix4x4;</div>
<div class="line">Quaternion quaternion;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Structures for Raycast</span></div>
<div class="line">Ray ray;</div>
<div class="line">RaycastHit raycastHit;</div>
</div><!-- fragment --><h2><a class="anchor" id="mono_UnityMono"></a>
2. Mono structures</h2>
<p><a class="el" href="namespaceBNM.html" title="Main BNM namespace.">BNM</a> provides some mono (C#) structures</p>
<h3><a class="anchor" id="mono_string_UnityMono"></a>
- String</h3>
<p><a class="el" href="structBNM_1_1Structures_1_1Mono_1_1String.html">BNM::Structures::Mono::String</a> - implementation of C# System.String.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> newString = <a class="code hl_function" href="namespaceBNM.html#ace560203e4437ec7ff47344903b94c07">BNM::CreateMonoString</a>(<span class="stringliteral">&quot;New mono string&quot;</span>);</div>
<div class="line"> </div>
<div class="line">std::string cppString = newString-&gt;str();</div>
<div class="ttc" id="anamespaceBNM_html_ace560203e4437ec7ff47344903b94c07"><div class="ttname"><a href="namespaceBNM.html#ace560203e4437ec7ff47344903b94c07">BNM::CreateMonoString</a></div><div class="ttdeci">Structures::Mono::String * CreateMonoString(const std::string_view &amp;str)</div><div class="ttdoc">Macro function for creating C# strings (BNM::Structures::Mono::String).</div></div>
</div><!-- fragment --><h3><a class="anchor" id="mono_array_UnityMono"></a>
- Array</h3>
<p><a class="el" href="structBNM_1_1Structures_1_1Mono_1_1Array.html">BNM::Structures::Mono::Array</a> - implementation of C# System.Array.</p>
<div class="fragment"><div class="line">Mono::Array&lt;int&gt; *array = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a new array with size 10 (int array = new int[10];)</span></div>
<div class="line">array = Mono::Array&lt;int&gt;::Create(10);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// To get data use:</span></div>
<div class="line"><span class="keyword">auto</span> dataPtr = array-&gt;GetData(); <span class="comment">// Pointer to the C array</span></div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> dataVec = array-&gt;ToVector(); <span class="comment">// std::vector&lt;int&gt;</span></div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> firstData = array-&gt;At(0); <span class="comment">// The first element of the array</span></div>
</div><!-- fragment --><h3><a class="anchor" id="mono_list_UnityMono"></a>
- List</h3>
<p><a class="el" href="structBNM_1_1Structures_1_1Mono_1_1List.html">BNM::Structures::Mono::List</a> - implementation of C# System.Collections.Generic.List.</p>
<div class="fragment"><div class="line">Mono::List&lt;int&gt; *list = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> intClass = <a class="code hl_function" href="namespaceBNM_1_1Defaults.html#ab84fa6c8e959333e8a2ef3eb262a7848">BNM::Defaults::Get&lt;int&gt;</a>().ToClass();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a new list (List&lt;int&gt; list = new List&lt;int&gt;();)</span></div>
<div class="line">list = intClass.<a class="code hl_function" href="structBNM_1_1Class.html#a7e8a7b008b8152d4ed73eb54f2eae1ae">NewList</a>&lt;<span class="keywordtype">int</span>&gt;();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// To get data use:</span></div>
<div class="line"><span class="keyword">auto</span> dataPtr = list-&gt;GetData(); <span class="comment">// Pointer to the C array</span></div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> dataVec = list-&gt;ToVector(); <span class="comment">// std::vector&lt;int&gt;</span></div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> firstData = list-&gt;At(0); <span class="comment">// The first element of the array</span></div>
<div class="ttc" id="astructBNM_1_1Class_html_a7e8a7b008b8152d4ed73eb54f2eae1ae"><div class="ttname"><a href="structBNM_1_1Class.html#a7e8a7b008b8152d4ed73eb54f2eae1ae">BNM::Class::NewList</a></div><div class="ttdeci">Structures::Mono::List&lt; T &gt; * NewList() const</div><div class="ttdoc">Create list of this type.</div><div class="ttdef"><b>Definition</b> Class.hpp:720</div></div>
</div><!-- fragment --><h3><a class="anchor" id="mono_dictionary_UnityMono"></a>
- Dictionary</h3>
<p><a class="el" href="structBNM_1_1Structures_1_1Mono_1_1List.html">BNM::Structures::Mono::List</a> - implementation of C# System.Collections.Generic.Dictionary.</p>
<div class="fragment"><div class="line">Mono::Dictionary&lt;int, int&gt; *dictionary;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This example uses generic. See Generic section at this page to understand how it works</span></div>
<div class="line"><span class="keyword">auto</span> dictionaryClass = <a class="code hl_struct" href="structBNM_1_1Class.html">BNM::Class</a>(<span class="stringliteral">&quot;System.Collections.Generic&quot;</span>, <span class="stringliteral">&quot;Dictionary`2&quot;</span>, <a class="code hl_struct" href="structBNM_1_1Image.html">BNM::Image</a>(<span class="stringliteral">&quot;mscorlib.dll&quot;</span>));</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> intClass = <a class="code hl_function" href="namespaceBNM_1_1Defaults.html#ab84fa6c8e959333e8a2ef3eb262a7848">BNM::Defaults::Get&lt;int&gt;</a>();</div>
<div class="line"><span class="keyword">auto</span> dictionary_int_int_Class = dictionaryClass.GetGeneric({intClass, intClass});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a new dictionary (Dictionary&lt;int, int&gt; dictionary = new Dictionary&lt;int, int&gt;();)</span></div>
<div class="line">dictionary = (Mono::Dictionary&lt;int, int&gt; *) dictionary_int_int_Class.CreateNewObjectParameters();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// To get data use:</span></div>
<div class="line"><span class="keyword">auto</span> keys = dictionary-&gt;GetKeys(); <span class="comment">// std::vector&lt;Key type&gt;</span></div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> values = dictionary-&gt;GetValues(); <span class="comment">// std::vector&lt;Value type&gt;</span></div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keyword">auto</span> map = dictionary-&gt;ToMap(); <span class="comment">// std::map&lt;Key type, Value type&gt;</span></div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="keywordtype">int</span> value = 0;</div>
<div class="line"><span class="keywordflow">if</span> (dictionary-&gt;TryGet(1 <span class="comment">/*Key*/</span>, &amp;value))</div>
<div class="line">    ; <span class="comment">// The value is found</span></div>
</div><!-- fragment --><h3><a class="anchor" id="mono_delegate_UnityMono"></a>
- Delegate</h3>
<p><a class="el" href="structBNM_1_1Delegate.html">BNM::Delegate</a> - implementation of C# System.Delegate.</p>
<p><a class="el" href="structBNM_1_1MulticastDelegate.html">BNM::MulticastDelegate</a> - implementation of C# System.MulticastDelegate.</p>
<div class="fragment"><div class="line"><span class="comment">// In the app we have</span></div>
<div class="line"><span class="comment">// delegate int DemoDelegate(int x, int y);</span></div>
<div class="line"><span class="comment">// </span></div>
<div class="line"><span class="comment">// static DemoDelegate demoDelegate;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="structBNM_1_1Field.html">BNM::Field&lt;BNM::MulticastDelegate&lt;int&gt;</a> *&gt; demoDelegate = ...;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> delegate = demoDelegate();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Invoke the delegate and get a result</span></div>
<div class="line"><span class="keyword">auto</span> result = delegate-&gt;Invoke(1, 2);</div>
</div><!-- fragment --><h3><a class="anchor" id="mono_action_UnityMono"></a>
- Action/UnityAction</h3>
<p><a class="el" href="structBNM_1_1Structures_1_1Mono_1_1Action.html">BNM::Structures::Mono::Action</a> - implementation of C# System.Action. It works the same way as delegate, because it's inherited from it.</p>
<p><a class="el" href="structBNM_1_1UnityEngine_1_1UnityAction.html">BNM::UnityEngine::UnityAction</a> - implementation of C# UnityEngine.Events.UnityAction. It works the same way as delegate, because it's inherited from it.</p>
<div class="fragment"><div class="line"><span class="comment">// In the app we have</span></div>
<div class="line"><span class="comment">// static Action&lt;int, int&gt; demoAction;</span></div>
<div class="line"><span class="comment">// static UnityAction&lt;int, int&gt; demoUnityAction;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="structBNM_1_1Field.html">BNM::Field&lt;Mono::Action&lt;int, int&gt;</a> *&gt; demoAction = ...;</div>
<div class="line"><a class="code hl_struct" href="structBNM_1_1Field.html">BNM::Field&lt;BNM::UnityEngine::UnityAction&lt;int, int&gt;</a> *&gt; demoUnityAction = ...;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> action = demoAction();</div>
<div class="line"><span class="keyword">auto</span> unityAction = demoUnityAction();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Invoke the actions</span></div>
<div class="line">action-&gt;Invoke(1, 2);</div>
<div class="line">unityAction-&gt;Invoke(1, 2);</div>
</div><!-- fragment --><h3><a class="anchor" id="unity_action_UnityMono"></a>
- Unity event</h3>
<p><a class="el" href="structBNM_1_1UnityEngine_1_1UnityEvent.html">BNM::UnityEngine::UnityEvent</a> - implementation of C# UnityEngine.Events.UnityEvent.</p>
<div class="fragment"><div class="line"><span class="comment">// In the app we have</span></div>
<div class="line"><span class="comment">// static UnityEvent&lt;int, int&gt; demoEvent;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="structBNM_1_1Field.html">BNM::Field&lt;BNM::UnityEngine::UnityEvent&lt;int, int&gt;</a> *&gt; demoEvent = ...;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> <span class="keyword">event</span> = demoEvent();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Invoke the event</span></div>
<div class="line"><span class="keyword">event</span>-&gt;Invoke(1, 2);</div>
</div><!-- fragment --><h1><a class="anchor" id="basics_Generics"></a>
Generics</h1>
<p><a class="el" href="namespaceBNM.html" title="Main BNM namespace.">BNM</a> provides API for getting typed versions of generic classes and methods.</p>
<h3><a class="anchor" id="method_Generics"></a>
- Generic methods</h3>
<div class="fragment"><div class="line"><span class="comment">// Unity&#39;s GameObject has some generic methods like GetComponent</span></div>
<div class="line"><span class="comment">// We want to get GetComponent&lt;object&gt;</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">public class GameObject : Object {</span></div>
<div class="line"><span class="comment">    // ...</span></div>
<div class="line"><span class="comment">    public T GetComponent&lt;T&gt;() {}</span></div>
<div class="line"><span class="comment">    // ...</span></div>
<div class="line"><span class="comment">}</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> gameObject = <a class="code hl_struct" href="structBNM_1_1Class.html">BNM::Class</a>(<span class="stringliteral">&quot;UnityEngine&quot;</span>, <span class="stringliteral">&quot;GameObject&quot;</span>, <a class="code hl_struct" href="structBNM_1_1Image.html">BNM::Image</a>(<span class="stringliteral">&quot;UnityEngine.CoreModule&quot;</span>));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get GetComponent&lt;T&gt;() method</span></div>
<div class="line"><span class="keyword">auto</span> GetComponent = gameObject.GetMethod(<span class="stringliteral">&quot;GetComponent&quot;</span>, 0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get GetComponent&lt;object&gt;() method</span></div>
<div class="line">Method&lt;void *&gt; GetComponentObject = GetComponent.GetGeneric({<a class="code hl_function" href="namespaceBNM_1_1Defaults.html#ab84fa6c8e959333e8a2ef3eb262a7848">BNM::Defaults::Get&lt;void *&gt;</a>()});</div>
</div><!-- fragment --><h3><a class="anchor" id="classes_Generics"></a>
- Generic classes</h3>
<div class="fragment"><div class="line"><span class="comment">// Let&#39;s analyze getting of generic classes from Dictionary section</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">namespace System.Collections.Generic</span></div>
<div class="line"><span class="comment">{</span></div>
<div class="line"><span class="comment">    public class Dictionary&lt;TKey, TValue&gt; : ... {}</span></div>
<div class="line"><span class="comment">}</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// To find a type with &lt;T1, T2, T3, ..., Tx&gt;, you need to search for &#39;TypeName`(number of parameters in &lt;&gt;)&quot;</span></div>
<div class="line"><span class="comment">// &quot;Dictionary&lt;TKey, TValue&gt;&quot; will result &quot;Dictionary`2&quot;</span></div>
<div class="line"><span class="comment">// &quot;Action&lt;T1, T2, T3&gt;&quot; will result &quot;Action`3&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// This line gets generic version of Dictionary&lt;TKey, TValue&gt;</span></div>
<div class="line"><span class="keyword">auto</span> dictionaryClass = <a class="code hl_struct" href="structBNM_1_1Class.html">BNM::Class</a>(<span class="stringliteral">&quot;System.Collections.Generic&quot;</span>, <span class="stringliteral">&quot;Dictionary`2&quot;</span>, <a class="code hl_struct" href="structBNM_1_1Image.html">BNM::Image</a>(<span class="stringliteral">&quot;mscorlib.dll&quot;</span>));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Here we get int type</span></div>
<div class="line"><span class="keyword">auto</span> intClass = <a class="code hl_function" href="namespaceBNM_1_1Defaults.html#ab84fa6c8e959333e8a2ef3eb262a7848">BNM::Defaults::Get&lt;int&gt;</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// And at this line we get Dictionary&lt;int, int&gt; class</span></div>
<div class="line"><span class="keyword">auto</span> dictionary_int_int_Class = dictionaryClass.GetGeneric({intClass, intClass});</div>
</div><!-- fragment --><h1><a class="anchor" id="basics_Exceptions"></a>
Exceptions</h1>
<p><a class="el" href="namespaceBNM.html" title="Main BNM namespace.">BNM</a> provides simple API to handle il2cpp's exceptions.</p>
<h2><a class="anchor" id="autotoc_md0"></a>
Macros</h2>
<p>You can use <a class="el" href="group__EXCEPTIONS__MACRO.html#gaec4e3fcbf53f621323421767987da9c4">BNM_try</a>/<a class="el" href="group__EXCEPTIONS__MACRO.html#ga1ddeb92056e144c0cb71f0c4fff9f0b2">BNM_catch</a> macros:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structBNM_1_1Method.html">BNM::Method&lt;int&gt;</a> DangerMethod;</div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"><span class="keywordtype">int</span> result = 0;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="group__EXCEPTIONS__MACRO.html#gaec4e3fcbf53f621323421767987da9c4">BNM_try</a></div>
<div class="line">    result = DangerMethod[instance]();</div>
<div class="line"><a class="code hl_define" href="group__EXCEPTIONS__MACRO.html#ga1ddeb92056e144c0cb71f0c4fff9f0b2">BNM_catch</a>(exception <span class="comment">/*exception object name*/</span>) <span class="comment">// You can skip catch block</span></div>
<div class="line">    <span class="keyword">auto</span> className = exception.ClassName();</div>
<div class="line">    <span class="keyword">auto</span> message = exception.Message();</div>
<div class="line">    BNM_LOG_WARN(<span class="stringliteral">&quot;DangerMethod returned exception (in try catch) [%s]: %s&quot;</span>, className.c_str(), message.c_str());</div>
<div class="line">    result = -1;</div>
<div class="line"><a class="code hl_define" href="group__EXCEPTIONS__MACRO.html#gac7d03ab36a50067f36a84ba64c198239">BNM_end_try</a></div>
<div class="ttc" id="agroup__EXCEPTIONS__MACRO_html_ga1ddeb92056e144c0cb71f0c4fff9f0b2"><div class="ttname"><a href="group__EXCEPTIONS__MACRO.html#ga1ddeb92056e144c0cb71f0c4fff9f0b2">BNM_catch</a></div><div class="ttdeci">#define BNM_catch(ex)</div><div class="ttdoc">Define block to handle exceptions.</div><div class="ttdef"><b>Definition</b> Exceptions.hpp:100</div></div>
<div class="ttc" id="agroup__EXCEPTIONS__MACRO_html_gac7d03ab36a50067f36a84ba64c198239"><div class="ttname"><a href="group__EXCEPTIONS__MACRO.html#gac7d03ab36a50067f36a84ba64c198239">BNM_end_try</a></div><div class="ttdeci">#define BNM_end_try</div><div class="ttdoc">End BNM_try or BNM_try&amp;BNM_catch blocks.</div><div class="ttdef"><b>Definition</b> Exceptions.hpp:108</div></div>
<div class="ttc" id="agroup__EXCEPTIONS__MACRO_html_gaec4e3fcbf53f621323421767987da9c4"><div class="ttname"><a href="group__EXCEPTIONS__MACRO.html#gaec4e3fcbf53f621323421767987da9c4">BNM_try</a></div><div class="ttdeci">#define BNM_try</div><div class="ttdoc">Define danger code block.</div><div class="ttdef"><b>Definition</b> Exceptions.hpp:90</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1"></a>
API</h2>
<p>Or you can use <a class="el" href="namespaceBNM.html#a0b62e59b6c773d58e3c8d4831b3c0d9f">BNM::TryInvoke</a> method: </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structBNM_1_1Method.html">BNM::Method&lt;int&gt;</a> DangerMethod;</div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"><span class="keywordtype">int</span> result = 0;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> exception = <a class="code hl_function" href="namespaceBNM.html#a0b62e59b6c773d58e3c8d4831b3c0d9f">BNM::TryInvoke</a>([&amp;]{</div>
<div class="line">    result = DangerMethod[instance]();</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (exception.IsValid()) {</div>
<div class="line">    <span class="keyword">auto</span> className = exception.ClassName();</div>
<div class="line">    <span class="keyword">auto</span> message = exception.Message();</div>
<div class="line">    BNM_LOG_WARN(<span class="stringliteral">&quot;DangerMethod returned exception (in TryInvoke) [%s]: %s&quot;</span>, className.c_str(), message.c_str());</div>
<div class="line">    result = -1;</div>
<div class="line">}</div>
<div class="ttc" id="anamespaceBNM_html_a0b62e59b6c773d58e3c8d4831b3c0d9f"><div class="ttname"><a href="namespaceBNM.html#a0b62e59b6c773d58e3c8d4831b3c0d9f">BNM::TryInvoke</a></div><div class="ttdeci">Exception TryInvoke(const std::function&lt; void()&gt; &amp;func)</div><div class="ttdoc">Helper function for catching il2cpp errors.</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="nav-path">
</div>
</body>
</html>
